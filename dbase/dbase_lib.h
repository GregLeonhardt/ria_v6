/*******************************  COPYRIGHT  ********************************/
/**
 *  Author? "Gregory N. Leonhardt"
 *  License? "CC BY-NC 2.0"
 *           "https://creativecommons.org/licenses/by-nc/2.0/"
 *
 ****************************************************************************/

#ifndef DBASE_LIB_H
#define DBASE_LIB_H

/******************************** JAVADOC ***********************************/
/**
 *  This file contains private definitions (etc.) that apply to internal 
 *  library components of the 'dbase' library.
 *
 *  @note
 *
 ****************************************************************************/

/****************************************************************************
 *  Compiler directives
 ****************************************************************************/

#ifdef ALLOC_DBASE
   #define DBASE_EXT
#else
   #define DBASE_EXT         extern
#endif

#define DBASE_ACCESS_LOG        ( 0 )

/****************************************************************************
 * System APIs
 ****************************************************************************/

                                //*******************************************
                                //*******************************************

/****************************************************************************
 * Application APIs
 ****************************************************************************/

                                //*******************************************
                                //*******************************************

/****************************************************************************
 * Library Private Definitions
 ****************************************************************************/

//----------------------------------------------------------------------------
/**
 *      note:   Must be large enough to hold the largest recipe             */
#define DB_COMMAND_L            ( 65536 * 2 )
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Enumerations
 ****************************************************************************/

//----------------------------------------------------------------------------
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Structures
 ****************************************************************************/

//----------------------------------------------------------------------------
struct  db_recipe_t
{
    char                    *   recipe_id_p;
    char                    *   recipe_data_p;
};

//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Storage Allocation
 ****************************************************************************/

//----------------------------------------------------------------------------
/**
 * @param con               MariaDB connector                           */
MYSQL                       *   con;
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Prototypes
 ****************************************************************************/

//----------------------------------------------------------------------------
void
MYQL__access_error(
    char                    *   sql_p
    );
//----------------------------------------------------------------------------
int
DBASE__address_get(
    char                    *   put_address_p,
    char                    *   get_address_p
    );
//----------------------------------------------------------------------------
int
DBASE__open(
    );
//----------------------------------------------------------------------------
//  DBASE__recipe_
//----------------------------------------------------------------------------
int
DBASE__recipe_exists(
    struct  rcb_t           *   rcb_p
    );
//----------------------------------------------------------------------------
int
DBASE__recipe_create(
    struct  rcb_t           *   rcb_p
    );
//----------------------------------------------------------------------------
int
DBASE__recipe_read(
    struct  rcb_t           *   rcb_p,
    struct  db_recipe_t     *   db_recipe_p
    );
//----------------------------------------------------------------------------
int
DBASE__recipe_update(
    struct  rcb_t           *   rcb_p
    );
//----------------------------------------------------------------------------
int
DBASE__recipe_delete(
    struct  rcb_t           *   rcb_p
    );
//----------------------------------------------------------------------------

/****************************************************************************/

#endif                      //    DBASE_LIB_H
